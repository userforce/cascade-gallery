<!DOCTYPE html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <script type="text/javascript" src="../dist/js/cascade-gallery.js"></script>
    <title>Cascade gallery</title>
</head>
<body style=" width: 1200px; padding: 0; margin: 0 auto; background: url('https://ibmachine.com/assets/frontend/img/background-header.png') repeat;">
<div id="app">
    <div style=" margin: 0 auto; border: 1px solid black;">
        <cascade-gallery :images="images" :config="config"></cascade-gallery>
        <button @click="addImages(5)">Add 5 images</button>
    </div>
</div>

<script type="text/javascript">
    new Vue({
        el: '#app',
        components: {
            'cascade-gallery': CascadeGallery
        },
        data() {
            let images = [
                this.generateRandomConfig(),
                this.generateRandomConfig(),
                this.generateRandomConfig(),
                this.generateRandomConfig(),
                this.generateRandomConfig(),

                this.generateRandomConfig(),
                this.generateRandomConfig(),
                this.generateRandomConfig(),
            ];
            return {
                images: images,
                config: {

                    /**
                     * max and min for image width in pixels
                     * min can't me bigger then max
                     * the random number in between will be picked
                     * both can be the same size
                     * if it will be enough space to place last image after
                     * all images will decay to min width last image will
                     * take the width of the remained space.
                     * defaults {max: 300, min: 200}
                     */
                    'width-range': {
                        min: 200,
                        max: 250
                    },

                    /**
                     * max and min for image width in pixels (same as for width)
                     *
                     * for defaults is taken approximate image width for
                     * the given (default) image min width and
                     * sums it with it self fifth part.
                     */
                    'height-range': {
                        min: 200,
                        max: 250
                    },

                    /**
                     * Gap in between a columns in pixels
                     */
                    'gap': 15,

                    /**
                     * Delay between image appearance
                     */
                    'appending-delay': 150,
                }
            };
        },
        methods: {
            addImages(amount) {
                for(let iterator = 1; iterator <= amount; iterator++) {
                    this.images.push(this.generateRandomConfig());
                }
            },
            generateRandomConfig() {
                return {
                    'default-index': this.getRandomIndex(),
                    src: this.getImages()
                };
            },
            getImages() {
                return [
                    'https://ibmachine.com/images/machine/87/7257/9004.jpg',
                    'https://ibmachine.com/images/machine/87/7257/3438.jpg',
                    'https://ibmachine.com/images/machine/87/7257/9339.jpg',
                    'https://ibmachine.com/images/machine/998/7276/5656.jpg',
                    'https://ibmachine.com/images/machine/997/7262/7715.jpg',
                    'https://ibmachine.com/images/machine/65/7232/5436.jpg',
                    'https://ibmachine.com/images/machine/87/7226/9137.jpg',
                    'https://ibmachine.com/images/machine/87/7216/7331.jpg',
                    'https://ibmachine.com/images/machine/87/7213/5113.jpg',
                    'https://ibmachine.com/images/machine/984/7201/6268.jpg',
                    'https://ibmachine.com/images/machine/984/7198/5655.jpg',
                    'https://ibmachine.com/images/machine/984/7176/5002.jpg',
                    'https://ibmachine.com/images/machine/87/7169/4340.jpg',
                    'https://ibmachine.com/images/machine/87/7169/4340.jpg',
                    'https://ibmachine.com/images/machine/65/7152/8948.jpg',
                    'https://ibmachine.com/images/machine/982/7133/1231.jpg',
                    'https://ibmachine.com/images/machine/982/7133/9507.jpg',
                    'https://ibmachine.com/images/machine/87/7110/1302.jpg',
                    'https://ibmachine.com/images/machine/521/7098/7166.jpg',
                    'https://ibmachine.com/images/machine/521/7096/2366.jpg',
                    'https://ibmachine.com/images/machine/2/7072/9748.jpg',
                    'https://ibmachine.com/images/machine/33/7056/2488.jpg',
                    'https://ibmachine.com/images/machine/33/7036/7551.jpg',
                    'https://ibmachine.com/images/machine/151/7009/1424.jpg',
                    'https://ibmachine.com/images/machine/65/7002/7562.jpg',
                    'https://ibmachine.com/images/machine/262/6959/9316.jpg'
                ]
            },
            getDescription() {
                return'<b>Lorem donec massa</b> sapien <i>faucibus et molestie</i> ac feugiat. Ac ' +
                      'turpis egestas integer eget aliquet nibh praesent tristique. ' +
                      'Pharetra pharetra massa massa ultricies mi quis hendrerit dolor magna.';

            },
            getRandomIndex() {
                return Math.floor(Math.random() * Math.floor(this.getImages().length - 1));
            }
        }
    });
</script>
</body>
</html>